console.log("main.js loaded"),window.console||(window.console={}),window.console.log||(window.console.log=function(){});var holidayCardAPI=function(a){function b(){TweenMax.to(".loader",.75,{autoAlpha:0,ease:Quad.easeInOut}),TweenMax.to("#start-btn",.75,{autoAlpha:1,ease:Back.easeInOut})}var c={},d=d||function(a,b,c){a instanceof Array||(a=[a]);for(var d=a.length,f=0,g=d;g--;){var h=document.createElement("img");h.onload=function(){f++,f>=d&&e(b)&&b(c)},h.src=a[g]}},e=e||function(a){var b={};return a&&"[object Function]"==b.toString.call(a)};d(["assets/img/1_JurassicPark/jurassicpark.gif","assets/img/2_Matrix/matrix-a-final.gif","assets/img/3_Exorcist/exorcist.gif","assets/img/4_PinkPanther/pinkpanther.gif","assets/img/5_MissionImpossible/mission-impossible.gif","assets/img/6_DeathStar/deathstar.gif","assets/img/7_KillBill/kill-bill.gif","assets/img/8_Terminator/terminator.gif"],b);var f=[{playCard:"assets/img/8_Terminator/Terminator_lowerRight_START.jpg",audio:"assets/audio/Terminator_AUDIO_01.mp3",animated:"assets/img/8_Terminator/terminator.gif",matched:"assets/img/8_Terminator/Terminator-end.jpg",duration:"25000"},{playCard:"assets/img/3_Exorcist/exorcist-start.jpg",audio:"assets/audio/exorcist_01.mp3",animated:"assets/img/3_Exorcist/exorcist.gif",matched:"assets/img/3_Exorcist/exorcist-upper-end.jpg",duration:"18000"},{playCard:"assets/img/5_MissionImpossible/5_MissImp_FINALFRAME1_FIRST.jpg",audio:"assets/audio/5_MissImp_AUDIO.mp3",animated:"assets/img/5_MissionImpossible/mission-impossible.gif",matched:"assets/img/5_MissionImpossible/5_MissImp_FINALFRAME2_LAST.jpg",duration:"17000"},{playCard:"assets/img/7_KillBill/KillBill_top_START.jpg",audio:"assets/audio/KillBill_AUDIO_01.mp3",animated:"assets/img/7_KillBill/kill-bill.gif",matched:"assets/img/7_KillBill/KillBill_top_END.jpg",duration:"9500"},{playCard:"assets/img/4_PinkPanther/pinkpanther_lowerright_start.jpg",audio:"assets/audio/pinkpanther_01.mp3",animated:"assets/img/4_PinkPanther/pinkpanther.gif",matched:"assets/img/4_PinkPanther/left-end.jpg",duration:"18000"},{playCard:"assets/img/3_Exorcist/exorcist-start.jpg",audio:"assets/audio/exorcist_01.mp3",animated:"assets/img/3_Exorcist/exorcist.gif",matched:"assets/img/3_Exorcist/exorcist_lower_end.jpg",duration:"18000"},{playCard:"assets/img/1_JurassicPark/Upper_START.jpg",audio:"assets/audio/JurrasicPark_AUDIO_FIX2_01.mp3",animated:"assets/img/1_JurassicPark/jurassicpark.gif",matched:"assets/img/1_JurassicPark/Upper_END.jpg",duration:"18000"},{playCard:"assets/img/6_DeathStar/DeathStar_UpperRight_START.jpg",audio:"assets/audio/DeathStar_AUDIO_01.mp3",animated:"assets/img/6_DeathStar/deathstar.gif",matched:"assets/img/6_DeathStar/DeathStar_UpperRight_END.jpg",duration:"14000"},{playCard:"assets/img/2_Matrix/Matrix_int_both.jpg",audio:"assets/audio/Matrix_SFX_01.mp3",animated:"assets/img/2_Matrix/matrix-a-final.gif",matched:"assets/img/2_Matrix/Matrix_L_end.jpg",duration:"17000"},{playCard:"assets/img/5_MissionImpossible/5_MissImp_FINALFRAME1_FIRST.jpg",audio:"assets/audio/5_MissImp_AUDIO.mp3",animated:"assets/img/5_MissionImpossible/mission-impossible.gif",matched:"assets/img/5_MissionImpossible/5_MissImp_FINALFRAME1_LAST.jpg",duration:"17000"},{playCard:"assets/img/8_Terminator/Terminator_lowerRight_START.jpg",audio:"assets/audio/Terminator_AUDIO_01.mp3",animated:"assets/img/8_Terminator/terminator.gif",matched:"assets/img/8_Terminator/Terminator_lowerRight_END.jpg",duration:"25000"},{playCard:"assets/img/2_Matrix/Matrix_int_both.jpg",audio:"assets/audio/Matrix_SFX_01.mp3",animated:"assets/img/2_Matrix/matrix-a-final.gif",matched:"assets/img/2_Matrix/Matrix_R_end.jpg",duration:"17000"},{playCard:"assets/img/6_DeathStar/DeathStar_UpperRight_START.jpg",audio:"assets/audio/DeathStar_AUDIO_01.mp3",animated:"assets/img/6_DeathStar/deathstar.gif",matched:"assets/img/6_DeathStar/DeathStar_LowerLeft_END.jpg",duration:"14000"},{playCard:"assets/img/1_JurassicPark/Upper_START.jpg",audio:"assets/audio/JurrasicPark_AUDIO_FIX2_01.mp3",animated:"assets/img/1_JurassicPark/jurassicpark.gif",matched:"assets/img/1_JurassicPark/Lower_END.jpg",duration:"18000"},{playCard:"assets/img/4_PinkPanther/pinkpanther_lowerright_start.jpg",audio:"assets/audio/pinkpanther_01.mp3",animated:"assets/img/4_PinkPanther/pinkpanther.gif",matched:"assets/img/4_PinkPanther/right-end.jpg",duration:"18000"},{playCard:"assets/img/7_KillBill/KillBill_top_START.jpg",audio:"assets/audio/KillBill_AUDIO_01.mp3",animated:"assets/img/7_KillBill/kill-bill.gif",matched:"assets/img/7_KillBill/last-bottom-frame-x.png",duration:"9500"}],g=function(){for(var a="<ol>",b=0;16>b;b++)a+="<li class='playing-card'>",a+="<img src = '"+f[b].playCard+"' data-src='"+f[b].playCard+" ' data-matched-src='"+f[b].matched+" ' data-audio-src='"+f[b].audio+"' data-animated-src='"+f[b].animated+" ' data-duration-src='"+f[b].duration+" '/>",a+="</li>";a+="</ol>",document.getElementById("game-container").innerHTML=a,TweenMax.to(".playing-card img",0,{autoAlpha:0,rotationY:0,ease:Linear.easeNone}),TweenMax.to("li",0,{rotationY:0,ease:Linear.easeNone})},h=function(){g();var a="",b="",c=[],d=0,e=function(){var a=(document.createElement("div"),document.createElement("audio"));a.id="cardAudio",a.setAttribute("preload","auto");var b=document.createElement("source");b.type="audio/mpeg",b.setAttribute("src",$(c[0]).find("img").attr("data-audio-src")),a.appendChild(b);var d;for(var e in c){{$(c[e])}d=$(c[e]).duration}a.play();var f=$("<div id='animation-overlay'></div>");f.appendTo(".game-row");var g=$("<img>");g.appendTo(f),g.attr("src",$(c[0]).find("img").attr("data-animated-src")),g.attr("draggable","false");for(var h in c){var i=$(c[h]).find("img");setTimeout(function(a){a[0].addClass("match"),a[1].addClass("match"),a[0].attr("src",a[0].attr("data-matched-src"))},9400,[i,$(c[h])])}d=$(c[0]).find("img").attr("data-duration-src"),setTimeout(function(){TweenMax.to("#animation-overlay",.1,{display:"block",autoAlpha:1,zIndex:5,ease:Linear.easeNone})},1),setTimeout(function(){TweenMax.to("#animation-overlay",.75,{display:"none",autoAlpha:0,ease:Linear.easeNone,onComplete:function(){$("#animation-overlay").remove(),$("#cardAudio").remove();var a=!1;0==$("li").find("img").not(".face-up").length&&(a=!0),a&&setTimeout(function(){TweenMax.to("#end-overlay",.25,{display:"block",autoAlpha:1,scale:1,left:0,zIndex:9999,ease:Quad.easeInOut}),TweenMax.to("#game-container",.75,{autoAlpha:0,ease:Quad.easeInOut})},500)}})},d)};$("li").on("click",function(){c.push(this);var f=!1;if(1==f?(document.getElementById("cardFlip").pause(),f=!1):(document.getElementById("cardFlip").play(),f=!0),2>d&&$(this).children("img").hasClass("face-up")===!1){d++;var g=$(this).children("img");if(TweenMax.to(g,.25,{autoAlpha:1,rotationY:180,ease:Linear.easeNone}),TweenMax.to(this,.25,{rotationY:180,ease:Linear.easeNone}),$(this).children("img").addClass("face-up"),1===d)a=$(this).children("img").attr("src");else{if(b=$(this).children("img").attr("src"),a===b)e(),c=[];else{setTimeout(function(){TweenMax.to(".locking-overlay",0,{autoAlpha:1,display:"block",ease:Linear.easeNone}),$("li").not(".match").find("img").removeClass("face-up");var a=$("li").not(".match").find("img");TweenMax.to(a,.2,{autoAlpha:0,rotationY:0,ease:Linear.easeNone});var b=$("li").not(".match");TweenMax.to(b,.25,{autoAlpha:1,rotationY:0,ease:Linear.easeNone}),h.play();var c=!1;1==c?(document.getElementById("cardFlip").pause(),c=!1):(document.getElementById("cardFlip").play(),c=!0)},1100);var h=new TimelineMax;h.to(".locking-overlay",0,{autoAlpha:1,display:"block",ease:Linear.easeNone}),h.to(".locking-overlay",.5,{autoAlpha:0,display:"none",ease:Linear.easeNone}),h.pause(),c=[]}d=0,setTimeout(function(){console.clear()},6e6)}}}),$("#start-btn").on("click",function(){TweenMax.to("#splash-overlay",.75,{left:"200%",autoAlpha:0,display:"none",ease:Quad.easeInOut}),TweenMax.to("#game-container",.75,{autoAlpha:1,ease:Back.easeInOut})}),$("#reset-btn").on("click",function(){window.location.href=window.location.href})};return c.init=h,c}();$(document).ready(function(){holidayCardAPI.init()});